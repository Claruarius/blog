---
date: 2017-02-02
layout: post
title: 罐子模型-用条件概率定义的概率
categories: Mathematics
tags: Probability-Theory
excerpt: 一个罐子包含b个黑球与r个红球，随机抽取一个球，看了颜色再放回，并且还要加进c个与所抽取颜色相同颜色的球和d个相反颜色的球
---
### **罐子模型**
一个罐子包含b个黑球与r个红球，随机抽取一个球，看了颜色再放回，并且还要加进c个与所抽取颜色相同颜色的球和d个相反颜色的球，这种手续反复地进行，c和d可以是任意的整数，c和d可以是负数。不过这种情况下经过有限次取球以后会因为无求而停止。

### **波利亚罐子模型**
d=0，c>0.每一次抽取后，与抽取球有相同颜色球的数目增加。考虑在n（n1+n2=n）次抽取中，```先抽```出n1个黑球，```再抽```出n2个红球的概率是

$$\frac{b(b+c)…(b+n_1c-c)*r(r+c)…(r+n_2c-c)} {(b+r)(b+r+c)…(b+r+nc-c)}$$

考虑抽取n（n1+n2=n）个球，n1个黑球，n2个红球的其他抽取次序。可得到抽取n1个黑球，n2个红球的所有可能抽取方式具有相同的概率，只是排列次序不同，此为波利亚模型在分析上的```简明性```，乘上$$(^{n}_{n_1})$$,既可以得到所有排列的数目（不计较同一次抽取中相同颜色球的排列顺序），利用广义二项式系数得**公式1**

$$p_{n_1}(n)=\frac{(^{n_1-1+b/c}_{n_1}  )(^{n_2-1+r/c}_{n_2}  )} {(^{n-1+(b+c)/c}_n  )}
= \frac{(^{-b/c}_{n_1}  )(^{-r/c}_{n_2}  )} {(^{-(b+c)/c}_n  )}$$

如何证明上式成立，使用牛顿二项式展开

$$(^{n}_{k}) = \frac{n(n-1)…(n-k+1)} {k!}$$


$$(^{n_1-1+b/c}_{n_1})=\frac{(n_1-1+b/c)…(1+b/c)(b/c)} {n_1!}$$
$$(^{-b/c}_{n_1})=\frac{(-b/c)(-b/c-1)…(-b/c-n_1+1)} {n_1!}$$
$$=(-1)^{n_1}\frac{(b/c)(b/c+1)…(b/c+n_1-1)} {n_1!}$$

由于公式1中$$n_1+n_2=n$$所以$$n_1+n_2$$的奇偶性与n的奇偶性或者说 $$(-1)^{n_1}(-1)^{n_2}$$与$$(-1)^n$$相同，所以以上两式相等。

### **层迭的罐子模型，假传染**
假定有两种职业，而且数目之比未1:5，然后在第一个罐子中含有$$r_1个红球与b_1个黑球$$,第二个罐子含有$$r_2个红球与b_2个黑球$$，"随机选择一个人考察他在n个单位时间内发生了多少次意外事故"与下述实验相当：
掷一颗色子，如果1点出现则选择第一罐，否则选择第二罐，在每一种情形下，都是从这罐子中作n次有放回的随机抽取。实验描述了一个保险公司在接受新的保险客户时应做的预测。

第一次抽出红球的概率为：

$$P\{R\} = \frac{1} {6}* \frac{r_1} {b_1+r_1}+\frac{5} {6}*\frac{r_2} {b_2+r_2}$$

连续两次抽到红色的球概率是

$$P\{RR\} = \frac{1} {6}* (\frac{r_1} {b_1+r_1})^2+\frac{5} {6}*(\frac{r_2} {b_2+r_2})^2$$

假定第一次抽出红球，问序列RR的条件概率是过少，答案显然是$$P\{RR\} /P\{R\}$$,并且并不等于P{R},为了证明上述，假定$$\frac{r_1} {b_1+r_1}=0.6$$,$$\frac{r_2} {b_2+r_2}=0.06$$,于是任意一次抽取中抽出红球的概率是0.15，但是第一次抽出红球，则第二次也抽出红球的概率是0.42.
**整个模型在总体中是无后效的，只是样本提供了增加的信息量而已，不是真传染，对于一个随机地选择红球，第一次取出红球后 ，会暗示第二次选出红球的可能倾向**

### **拉普拉斯延续率**
设想一个总体有N+1个罐子，每个罐子都有N个球，在k号罐子中有k个红球与n-k个白球，（k=0,1,2,3...N）今从N+1个罐子中任意选出一罐，并从整个罐子中作有放回的n次抽取。假设去除的n个球都是红球（事件A），求在下一次（第n+1次）`仍然抽出红球（事件B）(P{B})`的`（条件）概率P{B|A}`。设第一此所取的是第k号，则在相继的n次取球中都出现红球的概率是$$(k/N)^n$$,因此，

$$P\{A\} = \frac{1^n+2^n+...+N^n}{N^n(N+1)}$$ ($$\frac{1}{N+1}$$是每个罐子被抽到的概率相同)

事件AB表示相继（n+1）次取球中都出现红球的，于是有
$$P\{AB\}=P\{B\}=\frac{1^{n+1} + 2^{n+1} + ... + N^{n+1}}{N^{n+1}(N+1)}$$ 

故所求的概率是P{B|A} = P{B} /P{A}
以上两式可以近似考虑为**积分的黎曼和**，因此当N相当大时候，有

$$P\{A\}\approx \frac{1}{N^n(N+1)}{\int}^N_n{x}^n dx=\frac{N}{N+1}*\frac{1}{n+1} \approx \frac{1}{n+1}$$

对于足够大的N，$$P\{B|A\}\approx \frac{n+1}{n+2}$$
若罐中多有成分都是等概的，且在n次有放回的取球中出现红球，则在第n+1次取球中中红球的概率是(n+1)/(n+2)这就是`拉普拉斯延续率`。
